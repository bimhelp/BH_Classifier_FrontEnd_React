{"version":3,"file":"static/js/297.997a96fa.chunk.js","mappings":"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","sources":["components/ProjectDetails/ProjectDetails.styled.js","components/ProjectDetails/ProjectDetails.jsx"],"sourcesContent":["import styled from \"styled-components\";\nimport { NavLink } from \"react-router-dom\";\n\nexport const BackLink = styled(NavLink)`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: ${(props) => props.theme.space[2]}px;\n  margin-bottom: 15px;\n\n  min-width: 100px;\n  /* margin: ${(props) => props.theme.space[2]}px; */\n  padding-top: ${(props) => props.theme.space[2]}px;\n  padding-bottom: ${(props) => props.theme.space[2]}px;\n  padding-left: ${(props) => props.theme.space[3]}px;\n  padding-right: ${(props) => props.theme.space[3]}px;\n\n  border: ${(props) => props.theme.borders.bold};\n  border-radius: ${(props) => props.theme.radii.normal};\n\n  background-color: ${(props) =>\n    props.disabled\n      ? props.theme.colors.muted\n      : props.theme.colors.backgroundWhite};\n  font-size: ${(props) => props.theme.fontSizes.m};\n\n  &:hover:not(:disabled),\n  &:focus:not(:disabled) {\n    cursor: pointer;\n    color: ${(props) => props.theme.colors.white};\n    border-color: ${(props) => props.theme.colors.black};\n    background-color: ${(props) => props.theme.colors.hover};\n  }\n`;\n\nexport const Table = styled.table`\n  border-collapse: collapse;\n\n  & caption {\n    text-align: left;\n  }\n\n  & th,\n  & td {\n    padding: 2px 10px;\n    border: 1px solid #2a2a2a;\n  }\n\n  & tr:hover {\n    /* background-color: ${(props) => props.theme.colors.white}; */\n    /* box-shadow: ${(props) => props.theme.shadows.shadow}; */\n  }\n`;\n\nexport const ServiceRow = styled.tr`\n  background-color: bisque;\n`;\n\nexport const SubMaterialRow = styled.tr`\n  background-color: ${(props) => props.theme.colors.backgroundMain};\n`;\n\nexport const MaterialRow = styled.tr`\n  background-color: ${(props) => props.theme.colors.backgroundMain};\n`;\n\nexport const Code = styled.td`\n  white-space: nowrap;\n  /* width: 100px; */\n`;\n\nexport const List = styled.ul`\n  margin-left: ${(props) => props.theme.space[4]}px;\n\n  /* border-left: 2px solid; */\n`;\n\nexport const Item = styled.li`\n  /* margin-bottom: ${(props) => props.theme.space[1]}px; */\n  &:hover,\n  &:focus {\n    cursor: pointer;\n  }\n\n  &:not(:last-child) {\n    margin-bottom: ${(props) => props.theme.space[1]}px;\n  }\n`;\n\nexport const MaterialHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport { getProjectById } from \"../../services\";\nimport { toast } from \"react-toastify\";\nimport Section from \"../Section/Section\";\nimport { BarLoader } from \"react-spinners\";\nimport {\n  Table,\n  BackLink,\n  Code,\n  MaterialRow,\n  SubMaterialRow,\n  ServiceRow,\n} from \"./ProjectDetails.styled\";\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\nimport { IoHammer } from \"react-icons/io5\";\nimport { FaTrowelBricks } from \"react-icons/fa6\";\nimport { GoSquareFill } from \"react-icons/go\";\n\nconst ProjectDetails = () => {\n  const { id } = useParams();\n  const [project, setProject] = useState(null);\n  const [isLoading, setisLoading] = useState(false);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    const controller = new AbortController();\n    async function getProject(id) {\n      try {\n        setisLoading(true);\n        const response = await getProjectById(id, controller.signal);\n        // console.log(\"response effect: \", response.data);\n        setProject(response.data);\n      } catch (error) {\n        toast.error(\"Не вдалось завантажити проект\");\n      } finally {\n        setisLoading(false);\n      }\n    }\n\n    getProject(id);\n\n    return () => {\n      setProject(null);\n      controller.abort();\n    };\n  }, [id]);\n\n  // const totalMaterialPrice = useMemo(() => {\n  //   return project?.Materials.reduce((total, material) => {\n  //     return total + material.PriceInProject;\n  //   }, 0);\n  // }, [project]);\n\n  // const totalServicePrice = useMemo(() => {\n  //   return project?.Services.reduce((total, service) => {\n  //     return total + service.PriceInProject;\n  //   }, 0);\n  // }, [project]);\n\n  //   if (project.Services.Materials.length > 0) {\n  //     const totalServiceMaterialPrice =\n  //       project?.Services?.Materials.reduce((total, material) => {\n  //         return total + material.PriceInProject;\n  //       }, 0);\n  //     return totalServiceMaterialPrice;\n  //   }\n  // };\n\n  // функція зміни ціни матеріалу або сервісу в даному проекті\n  // function handleChange() {\n  //   console.log(\"handle change\");\n  // }\n\n  return (\n    <Section>\n      {isLoading && <BarLoader color=\"#125b56\" width=\"100%\" />}\n      {project && (\n        <>\n          <BackLink to={location.state.from}>\n            <IoMdArrowRoundBack />\n            До проектів\n          </BackLink>\n\n          <h2>{project.Title}</h2>\n\n          <div>\n            <Table>\n              <caption>матеріали і послуги даного проекту</caption>\n              <thead>\n                <tr>\n                  <th></th>\n                  <th>Код</th>\n                  <th>Опис</th>\n                  <th>Ціна ринкова</th>\n                  <th>Ціна в даному проекті</th>\n                  <th>Одиниці</th>\n                  <th>Витрата</th>\n                  <th>Витрата в даному проекті</th>\n                </tr>\n              </thead>\n              <tbody>\n                {project.Services &&\n                  project.Services.map((service) => {\n                    return (\n                      <>\n                        <ServiceRow key={service._id}>\n                          <td>\n                            <IoHammer />\n                          </td>\n                          <Code>{service.Code}</Code>\n                          <td>{service.DescriptionUA}</td>\n                          <td>{service.PriceUAH}</td>\n\n                          {/* <td>\n                            <input\n                              type=\"text\"\n                              value={service.PriceInProject}\n                              onChange={handleChange}\n                            />\n                          </td> */}\n                          <td>{service.PriceInProject}</td>\n\n                          <td>{service.Unit}</td>\n                          <td>{service.Consumption}</td>\n                          <td>{service.ConsumptionInProject}</td>\n                        </ServiceRow>\n\n                        {service.Materials?.length > 0 &&\n                          service.Materials.map((material) => {\n                            return (\n                              <SubMaterialRow key={material._id}>\n                                <td>\n                                  <GoSquareFill />\n                                </td>\n                                <td>{material.Code}</td>\n                                <td>{material.DescriptionUA}</td>\n                                <td>{material.PriceUAH}</td>\n                                <td>{material.PriceInProject}</td>\n                                <td>{material.Unit}</td>\n                                <td>{material.Consumption}</td>\n                                <td>{material.ConsumptionInProject}</td>\n                              </SubMaterialRow>\n                            );\n                          })}\n                      </>\n                    );\n                  })}\n\n                {project.Materials &&\n                  project.Materials.map((material) => {\n                    return (\n                      <MaterialRow key={material._id}>\n                        <td>\n                          <FaTrowelBricks />\n                        </td>\n                        <Code>{material.Code}</Code>\n                        <td>{material.DescriptionUA}</td>\n                        <td>{material.PriceUAH}</td>\n                        <td>{material.PriceInProject}</td>\n                        <td>{material.Unit}</td>\n                        <td>{material.Consumption}</td>\n                        <td>{material.ConsumptionInProject}</td>\n                      </MaterialRow>\n                    );\n                  })}\n              </tbody>\n            </Table>\n          </div>\n        </>\n      )}\n    </Section>\n  );\n};\n\nexport default ProjectDetails;\n"],"names":["BackLink","styled","NavLink","props","theme","space","borders","bold","radii","normal","disabled","colors","muted","backgroundWhite","fontSizes","m","white","black","hover","Table","table","shadows","shadow","ServiceRow","tr","SubMaterialRow","backgroundMain","MaterialRow","Code","td","ul","li","div","ProjectDetails","id","useParams","project","setProject","useState","isLoading","setisLoading","location","useLocation","useEffect","controller","AbortController","async","response","getProjectById","signal","data","error","toast","getProject","abort","_jsxs","Section","children","_jsx","BarLoader","color","width","_Fragment","to","state","from","IoMdArrowRoundBack","Title","Services","map","service","_service$Materials","IoHammer","DescriptionUA","PriceUAH","PriceInProject","Unit","Consumption","ConsumptionInProject","_id","Materials","length","material","GoSquareFill","FaTrowelBricks"],"sourceRoot":""}